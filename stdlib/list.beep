
use stdlib/enumerate/[enumerate]

def list/make_iter()
  list_iter.new(this, 0)
end

struct list_iter
  list, index
end

def list_iter/make_iter()
  this
end

def list_iter/next()
  if @index < @list.len()
    let val = @list.get_item(@index)
    @index = @index + 1
    [:ok, val]
  else
    [:done]
  end
end

mix enumerate into list
