
use stdlib/enumerate/[enumerate]

def list/make_iter()
  list_iter.new(this, 0)
end

struct list_iter
  list_, index_
end

def list_iter/make_iter()
  this
end

def list_iter/next()
  if @index_ < @list_.len()
    let val = @list_.get_item(@index_)
    @index_ = @index_ + 1
    [:ok, val]
  else
    [:done]
  end
end

mix enumerate into list
