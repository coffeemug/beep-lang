
use std/enum/[enum]

def range/make_iter()
  range_iter.new(this, this.start())
end

struct range_iter
  range_, n_
end

def range_iter/make_iter()
  this
end

def range_iter/next()
  if @n_ < @range_.stop_excl()
    let val = @n_
    @n_ = @n_ + 1
    [:ok, val]
  else
    [:done]
  end
end

mix enum into range
